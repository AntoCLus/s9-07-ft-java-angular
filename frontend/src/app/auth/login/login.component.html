<article class="login__container">
  <div class="login__header">
    <!-- <img src="" alt="" /> -->
    <div class="imagen"></div>

    <h2>Iniciar sesión</h2>
  </div>

  <form
    class="form__container"
    [formGroup]="loginForm"
    (ngSubmit)="auth()"
    autocomplete="off"
  >
    <div class="form__control">
      <label for="email">Correo electrónico</label>
      <input type="email" id="email" formControlName="email" />
      <div
        *ngIf="
          !(loginForm.get('email')?.errors && loginForm.get('email')?.touched);
          else emailField
        "
      ></div>
    </div>
    <div class="form__control">
      <label for="password">Contraseña</label>
      <input type="password" id="password" formControlName="password" />
      <div
        *ngIf="
          !(
            loginForm.get('password')?.errors &&
            loginForm.get('password')?.touched
          );
          else passwordField
        "
      ></div>
      <span>¿Olvidaste tu contraseña? </span>
    </div>

    <div class="form__buttons">
      <button type="submit" (click)="closeDialog()">Acceder</button>
      <span (click)="closeDialog()" [routerLink]="['/create-user']"
        >¿Aún no tienes una cuenta? <b>Crea una</b></span
      >
    </div>
  </form>
</article>

<ng-template #emailField>
  <div
    class="validation__container"
    *ngIf="loginForm.get('email')?.hasError('required')"
  >
    El email es requerido.
  </div>
  <div
    class="validation__container"
    *ngIf="loginForm.get('email')?.hasError('pattern')"
  >
    El email no es válido.
  </div>
</ng-template>

<ng-template #passwordField>
  <div
    class="validation__container"
    *ngIf="loginForm.get('password')?.hasError('required')"
  >
    La contraseña es requerida.
  </div>
  <div
    class="validation__container"
    *ngIf="loginForm.get('password')?.hasError('minlength')"
  >
    La contraseña debe tener al menos 6 caracteres.
  </div>
</ng-template>
